function print_info
    prin
    prin
    info "\e[0m\e[38;5;25m \e[0m" distro
    prin
    info "\e[0m\e[31m \e[0m" shell
    info "\e[0m\e[32m \e[0m" wm
    info "\e[0m\e[33m😺\e[0m" term
    info "\e[0m\e[34m \e[0m" term_font
    info "\e[0m\e[35m \e[0m" theme
    info "\e[0m\e[36m \e[0m" packages
    prin
    info "\e[0m\e[91m \e[0m" cpu
    info "\e[0m\e[92m \e[0m" cpu_usage
    info "\e[0m\e[93m \e[0m" memory
    info "\e[0m\e[94m \e[0m" disk
    info "\e[0m\e[95m \e[0m" public_ip
    info "\e[0m\e[96m \e[0m" uptime
end

function fish_prompt

  # gets the error status of the last command and 
  # updates the @ symbol color with the indication
  if test "$status" -ne "0"
    set ARROW "$ERROR"
  else
    set ARROW "$SUCCESS"
  end

  # trim everything to the right of the . in whostname
  if test -n "$SHOW_HOST" 
    set HOST_STRING (echo $hostname | cut -f1 -d".")
    # add a space at the end
    set HOST_STRING "$HOST_STRING "
  end 

  # interactive user name @ (with error indicator) host name part with underline, date/time in YYYY-mm-dd format UTC, path info, and branch info (when available)
  echo (set_color $USER_COLOR)(whoami)(set_color $ARROW)@(set_color $HOST_COLOR)(echo $HOST_STRING)(set_color $DATE_COLOR)(date -u '+%Y-%m-%d %H:%M:%S') UTC (set_color $PATH_COLOR)(pretty_path)(set_color $GIT_COLOR)(get_branch)
  echo "\$ "
end

function get_branch
  # minus symbol if there are no changes detected to tracked files
  # /dev/null prevents nonsensical errors when you are on directories not tracked by git.
  if test (git status --untracked-files=no --porcelain 2> /dev/null | wc -l) -eq 0
    set indicator "-"
  else
    set indicator "+"
  end
  
  set branch_name (git rev-parse --abbrev-ref HEAD 2> /dev/null)
  if test "$branch_name" != ""
    echo "[$indicator]$branch_name"
  else
    echo ""
  end
end

function fish_greeting
  set_theme_colors
  echo ""
  neofetch 
end

function cal
  if test "$argv" = ""
    /usr/bin/cal | lolcat
  else
    /usr/bin/cal $argv | lolcat
  end
end

function pretty_path
  # by default, Fish shell does not print ~ for $HOME
  echo (pwd | sed "s|^$HOME|~|g")
end

function set_theme_colors

#   set FG_COLOR    bd8141
#   set BG_COLOR    1e140a
#   set BRIGHT_RED  cb4b16
#   set CYAN        268bd2
#   set YELLOW      b58900
#   set ORANGE      FF9933

  if test "$FISH_THEME" = "gruvbox"
    set -gx ERROR      CC241D
    set -gx SUCCESS    98971A
    set -gx USER_COLOR C46210
    set -gx HOST_COLOR bfc225
    set -gx DATE_COLOR FF9933
    set -gx PATH_COLOR 268bd2
    set -gx GIT_COLOR  b58900
  else
    set -gx ERROR      CB0000
    set -gx SUCCESS    58A82F
    set -gx USER_COLOR 3399FF
    set -gx HOST_COLOR 00CC00
    set -gx DATE_COLOR FF9933
    set -gx PATH_COLOR 6B6FFF
    set -gx GIT_COLOR  03A9F4
  end
end

